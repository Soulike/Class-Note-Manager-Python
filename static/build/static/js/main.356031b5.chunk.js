(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{112:function(e,t,n){e.exports={alertWrapper:"Alert_alertWrapper__1RzER",Alert:"Alert_Alert__b-hmF","alert-success":"Alert_alert-success__2YR-z","alert-danger":"Alert_alert-danger__1Y9n0"}},113:function(e,t,n){e.exports={btn:"FileName_btn__33X5u","btn-lg":"FileName_btn-lg__3ensq",NoteWriter:"FileName_NoteWriter__2laXp",fileInfoArea:"FileName_fileInfoArea__mhYyS",submitButton:"FileName_submitButton__2YFn5","btn-primary":"FileName_btn-primary__1CNDb",disabled:"FileName_disabled__2Ip8v",active:"FileName_active__2Dbmu",show:"FileName_show__23wQV","dropdown-toggle":"FileName_dropdown-toggle__3NXdI","btn-danger":"FileName_btn-danger__2eZG6",focus:"FileName_focus__37YMx",editorArea:"FileName_editorArea__1IcLc",editor:"FileName_editor__30eoA",previewer:"FileName_previewer__Jc6Ql",FileName:"FileName_FileName__1H4iX",title:"FileName_title__2qLEK",input:"FileName_input__vpelO"}},114:function(e,t,n){e.exports={Article:"NoteReader_Article__1gA3F",NoteReader:"NoteReader_NoteReader__3wpLl",content:"NoteReader_content__3KjOJ",lastModified:"NoteReader_lastModified__2ZmeP"}},161:function(e,t,n){e.exports={Editor:"Editor_Editor__12qbg",editorInput:"Editor_editorInput__1R-it"}},163:function(e,t,n){e.exports={TopBar:"PageLink_TopBar__1Y-Dc",linkWrapper:"PageLink_linkWrapper__34qup",title:"PageLink_title__CTovd",icon:"PageLink_icon__1PsJH",PageLink:"PageLink_PageLink__k3aQ5"}},164:function(e,t,n){e.exports={Root:"Root_Root__1VILW",innerWrapper:"Root_innerWrapper__7D2py"}},165:function(e,t,n){e.exports={NoteList:"NoteList_NoteList__ZgwsI",listArea:"NoteList_listArea__3pHXw"}},245:function(e,t,n){e.exports={Title:"Title_Title__3g3AZ"}},246:function(e,t,n){e.exports={Article:"Previewer_Article__WK_p_",Previewer:"Previewer_Previewer__3h1VR"}},247:function(e,t,n){e.exports=n(554)},28:function(e,t,n){e.exports={NoteCard:"NoteCard_NoteCard__i-DoE",left:"NoteCard_left__3uccl",leftIcon:"NoteCard_leftIcon__2mxM-",right:"NoteCard_right__tGbX4",upper:"NoteCard_upper__3uV-a",noteName:"NoteCard_noteName__2f74-",buttonWrapper:"NoteCard_buttonWrapper__3Kf5K",modifyButton:"NoteCard_modifyButton__roXjF",deleteButton:"NoteCard_deleteButton__2PLGc",buttonIcon:"NoteCard_buttonIcon__2eImV",lastModifiedDate:"NoteCard_lastModifiedDate__rCI9_"}},418:function(e,t,n){},454:function(e,t){},456:function(e,t){},491:function(e,t){},492:function(e,t){},554:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"requireLogin",function(){return z}),n.d(a,"checkSession",function(){return $}),n.d(a,"setLocalStorageOnlineItem",function(){return ee}),n.d(a,"setLocalStorageOfflineItem",function(){return te});n(248);var o=n(0),r=n.n(o),i=n(56),c=n.n(i),s=(n(418),n(55)),l=n(17),u=n(9),d=n(10),p=n(12),_=n(11),m=n(13),f=n(24),h=n.n(f),v=n(49),g="LOGIN/LOGIN_SUCCESS",b="LOGIN/LOGIN_FAILED",N=n(50),E=n(160),O=n.n(E),y=n(243),j=n.n(y);function w(e){for(;"/"===e.charAt(0);)e=e.substring(1);return"/server/".concat(e)}function C(e){return L.apply(this,arguments)}function L(){return(L=Object(v.a)(h.a.mark(function e(t){var n,a,o,r=arguments;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=!(r.length>1&&void 0!==r[1])||r[1],a=r.length>2&&void 0!==r[2]?r[2]:{},o=r.length>3&&void 0!==r[3]?r[3]:{},e.abrupt("return",new Promise(function(){var e=Object(v.a)(h.a.mark(function e(r,i){var c;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.get(t,n?Object(N.a)({params:a},o):Object(N.a)({params:Object(N.a)({},a,{_t:Date.now()})},o));case 3:c=e.sent,r(c.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),i(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()));case 4:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function k(e){return I.apply(this,arguments)}function I(){return(I=Object(v.a)(h.a.mark(function e(t){var n,a,o=arguments;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return n=o.length>1&&void 0!==o[1]?o[1]:{},a=o.length>2&&void 0!==o[2]?o[2]:{},e.abrupt("return",new Promise(function(){var e=Object(v.a)(h.a.mark(function e(o,r){var i;return h.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,O.a.post(t,n,a);case 3:i=e.sent,o(i.data),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),r(e.t0);case 10:case"end":return e.stop()}},e,this,[[0,7]])}));return function(t,n){return e.apply(this,arguments)}}()));case 3:case"end":return e.stop()}},e,this)}))).apply(this,arguments)}function M(e){return e>=0&&e<10?"0"+e.toString():e.toString()}function x(e,t){var n=j.a.createHash(t);return n.update(e),n.digest("hex")}function A(e){var t=31536e6,n=2592e6,a=6048e5,o=864e5,r=36e5,i=6e4,c=1e3,s=new Date(e),l=Date.now()-s.getTime(),u=Math.floor;return l>=t?"".concat(s.getFullYear(),"-").concat(M(s.getMonth()+1),"-").concat(M(s.getDate())):l>=n?"".concat(u(l/n)," \u6708\u524d"):l>=a?"".concat(u(l/a)," \u5468\u524d"):l>=o?"".concat(u(l/o)," \u5929\u524d"):l>=r?"".concat(u(l/r)," \u5c0f\u65f6\u524d"):l>=i?"".concat(u(l/i)," \u5206\u949f\u524d"):l>=c?"".concat(u(l/c)," \u79d2\u524d"):"\u521a\u521a"}function W(e,t){localStorage.setItem(e,t)}function S(e){return localStorage.getItem(e)}function B(e){localStorage.removeItem(e)}var D=n(166),F=n(112),T=n.n(F),R=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(_.a)(t).apply(this,arguments))).state={opacity:0,intervals:[]},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=this.props,n=t.duration,a=t.fadeDuration,o=setInterval(function(){e.setState({opacity:e.state.opacity+.2})},a/5);setTimeout(function(){clearInterval(o)},a),this.setState({intervals:Object(D.a)(this.state.intervals).concat([o])}),setTimeout(function(){var t=setInterval(function(){e.setState({opacity:e.state.opacity-.2})},a/5);e.setState({intervals:Object(D.a)(e.state.intervals).concat([t])})},n-a)}},{key:"componentWillUnmount",value:function(){this.state.intervals.forEach(function(e){clearInterval(e)})}},{key:"render",value:function(){var e=this.props,t=e.msg,n=e.isSuccess,a=this.state.opacity;return r.a.createElement("div",{className:"".concat(T.a.Alert," ").concat(T.a["alert-".concat(n?"success":"danger")]),style:{opacity:a}},t)}}]),t}(o.Component);R.show=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:200,o=document.getElementById("root"),i=document.createElement("div");i.className=T.a.alertWrapper;var s=o.appendChild(i);c.a.render(r.a.createElement(R,{msg:e,isSuccess:t,duration:n,fadeDuration:a}),s),setTimeout(function(){c.a.unmountComponentAtNode(s),o.removeChild(i)},n)};var P=R,q=n(69),H=n(244),J=n(161),G=n.n(J),Y="NOTE_WRITER/CONVERT_SUCCESS";function K(e){return function(){var t=Object(v.a)(h.a.mark(function t(n){var a,o,r,i;return h.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,k(w("/noteConvert"),{markdown:e});case 3:a=t.sent,o=a.isSuccess,r=a.msg,i=a.data,o?n({type:Y,innerHTML:i}):P.show(r,!1),t.next=13;break;case 10:t.prev=10,t.t0=t.catch(0),console.log(t.t0);case 13:case"end":return t.stop()}},t,this,[[0,10]])}));return function(e){return t.apply(this,arguments)}}()}var Q=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).onInput=function(e){W("noteContent",e.target.value),Z.dispatch(K(e.target.value))},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=S("noteContent");e?(this.refs.editorInput.value=e,Z.dispatch(K(e))):Z.dispatch(K(""))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props.noteContent;a&&(this.refs.editorInput.value=a,Z.dispatch(K(a)))}},{key:"render",value:function(){return r.a.createElement("div",{className:G.a.Editor},r.a.createElement("textarea",{className:G.a.editorInput,autoFocus:!0,wrap:"off",onChange:this.onInput,ref:"editorInput"}))}}]),t}(o.Component),X=[H.a],U=Object(q.d)(q.a.apply(void 0,X)),V=Object(q.c)({Login:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=(arguments.length>1?arguments[1]:void 0).type;return t===g?Object(N.a)({},e,{hasLoggedIn:!0}):t===b?Object(N.a)({},e,{hasLoggedIn:!1}):e},NoteWriterEditor:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.type;return n===Y?Object(N.a)({},e,{innerHTML:t.innerHTML}):e}}),Z=Object(q.e)(V,{Login:{hasLoggedIn:!1},NoteWriterEditor:{innerHTML:""}},U);function z(e,t){Z.getState().Login.hasLoggedIn||S("hasLoggedIn")||(t("/Login"),P.show("\u8bf7\u5148\u767b\u5f55",!1)),$()}function $(){C(w("/validSession"),!1).then(function(e){var t=e.isSuccess;e.msg,e.data;t?(ee(),Z.dispatch(ne())):(te(),Z.dispatch(ae()))}).catch(function(e){console.log(e)})}function ee(){W("hasLoggedIn",!0)}function te(){W("hasLoggedIn",!1)}function ne(){return{type:g}}function ae(){return{type:b}}var oe=n(245),re=n.n(oe),ie=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.text;return r.a.createElement("div",{className:re.a.Title},e)}}]),t}(o.Component),ce=n(81),se=n.n(ce),le=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(_.a)(t).apply(this,arguments))).onUsernameChange=function(t){t.preventDefault(),e.setState({username:t.target.value})},e.onPasswordChange=function(t){t.preventDefault(),e.setState({password:t.target.value})},e.onSubmit=function(t){t.preventDefault();var n=e.state,a=n.username,o=n.password;(0,e.props.login)(a,o)},e.state={username:"",password:""},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){$()}},{key:"render",value:function(){return r.a.createElement("div",{className:se.a.Login},r.a.createElement(ie,{text:"\u767b\u5f55"}),r.a.createElement("form",{action:"#",className:se.a.form},r.a.createElement("input",{type:"text",placeholder:"\u7528\u6237\u540d",className:se.a.input,autoFocus:!0,onChange:this.onUsernameChange}),r.a.createElement("input",{type:"password",placeholder:"\u5bc6\u7801",className:se.a.input,onChange:this.onPasswordChange}),r.a.createElement("button",{className:se.a.loginBtn,onClick:this.onSubmit},"\u767b\u5f55")))}}]),t}(o.Component),ue=Object(s.b)(null,function(e){return{login:function(t,n){e(function(e,t){return function(){var n=Object(v.a)(h.a.mark(function n(a){var o,r,i;return h.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,0!==e.length){n.next=6;break}a(ae()),P.show("\u7528\u6237\u540d\u4e0d\u53ef\u4e3a\u7a7a",!1),n.next=17;break;case 6:if(0!==t.length){n.next=11;break}a(ae()),P.show("\u5bc6\u7801\u4e0d\u53ef\u4e3a\u7a7a",!1),n.next=17;break;case 11:return n.next=13,k(w("/login"),{username:e,password:x("".concat(e).concat(t),"sha256")});case 13:o=n.sent,r=o.isSuccess,i=o.msg,r?(l.e.push("/NoteList"),a(ne()),ee()):(a(ae()),te()),P.show(i,r);case 17:n.next=24;break;case 19:n.prev=19,n.t0=n.catch(0),a(ae()),P.show("\u767b\u5f55\u5931\u8d25",!1),console.log(n.t0);case 24:case"end":return n.stop()}},n,this,[[0,19]])}));return function(e){return n.apply(this,arguments)}}()}(t,n))}}})(le),de=(n(542),n(91)),pe=n.n(de),_e=n(57),me=n(163),fe=n.n(me),he=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.text,n=e.href,a=e.icon;return r.a.createElement("div",{className:fe.a.PageLink},r.a.createElement("div",{className:fe.a.icon},r.a.createElement(_e.a,{icon:a})),r.a.createElement(l.b,{onlyActiveOnIndex:!1,to:n,key:n},t))}}]),t}(o.Component),ve=n(58),ge=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(_.a)(t).apply(this,arguments))).state={links:[{icon:ve.b,text:"\u7b14\u8bb0\u5217\u8868",href:"/NoteList"},{icon:ve.c,text:"\u65b0\u7b14\u8bb0",href:"/NoteWriter"}]},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.state.links,t=this.props.hasLoggedIn;return r.a.createElement("div",{className:pe.a.TopBar},r.a.createElement("div",{className:pe.a.title},r.a.createElement("div",{className:pe.a.icon},r.a.createElement(_e.a,{icon:ve.a})),"\u7b14\u8bb0\u7ba1\u7406"),t?r.a.createElement("div",{className:pe.a.linkWrapper},e.map(function(e,t){return r.a.createElement(he,Object.assign({},e,{key:t}))})):null)}}]),t}(o.Component),be=Object(s.b)(function(e){return{hasLoggedIn:e.Login.hasLoggedIn}})(ge),Ne=n(164),Ee=n.n(Ne),Oe=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){return r.a.createElement("div",{className:Ee.a.Root},r.a.createElement(be,null),r.a.createElement("div",{className:Ee.a.innerWrapper},this.props.children))}}]),t}(o.Component),ye=n(165),je=n.n(ye),we=n(28),Ce=n.n(we),Le=n(1),ke=n.n(Le),Ie=n(59),Me=n.n(Ie),xe=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).onConfirmButtonClick=function(e){(0,n.props.onConfirm)(),n.onCancelButtonClick()},n.onCancelButtonClick=function(e){var t=document.getElementById("root"),a=n.props,o=a.wrapper,r=a.node;c.a.unmountComponentAtNode(o),t.removeChild(r)},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.content;e.onConfirm;return r.a.createElement("div",{className:Me.a.Modal},r.a.createElement("div",{className:Me.a.title},t),r.a.createElement("div",{className:Me.a.content},n),r.a.createElement("div",{className:Me.a.buttonArea},r.a.createElement("button",{className:Me.a.confirmButton,onClick:this.onConfirmButtonClick},"\u786e\u5b9a"),r.a.createElement("button",{className:Me.a.cancelButton,onClick:this.onCancelButtonClick},"\u53d6\u6d88")))}}]),t}(o.Component);xe.show=function(e,t,n){var a=document.getElementById("root"),o=document.createElement("div");o.className=Me.a.modalWrapper;var i=a.appendChild(o);c.a.render(r.a.createElement(xe,{title:e,content:t,onConfirm:n,node:o,wrapper:i}),i)},xe.PropTypes={wrapper:ke.a.object.isRequired,node:ke.a.object.isRequired,title:ke.a.string.isRequired,content:ke.a.string.isRequired,onConfirm:ke.a.func.isRequired};var Ae=xe,We=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).onDeleteButtonClick=function(e){e.preventDefault();var t=n.props.name;Ae.show("\u5220\u9664\u786e\u8ba4","\u4f60\u786e\u5b9e\u8981\u5220\u9664\u7b14\u8bb0 ".concat(t,"\uff1f\u6b64\u64cd\u4f5c\u4e0d\u53ef\u9006\uff01"),function(){if(!0){var e=n.props.id;k(w("/deleteNote"),{id:e}).then(function(e){var t=e.isSuccess,n=e.msg;e.data;P.show(n,t),setTimeout(function(){document.location.reload()},1e3)}).catch(function(e){P.show("\u5220\u9664\u5931\u8d25",!1),console.log(e)})}})},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.name,a=e.lastModified;return r.a.createElement("div",{className:Ce.a.NoteCard},r.a.createElement("div",{className:Ce.a.left},r.a.createElement(_e.a,{icon:ve.e,style:Ce.a.leftIcon})),r.a.createElement("div",{className:Ce.a.right},r.a.createElement("div",{className:Ce.a.upper},r.a.createElement("div",{className:Ce.a.noteName},n),r.a.createElement("div",{className:Ce.a.buttonWrapper},r.a.createElement(l.b,{onlyActiveOnIndex:!1,to:"/NoteWriter?noteId=".concat(t),target:"_blank"},r.a.createElement("button",{className:Ce.a.modifyButton,title:"\u4fee\u6539\u7b14\u8bb0"},r.a.createElement(_e.a,{icon:ve.d,className:Ce.a.buttonIcon}))),r.a.createElement("button",{className:Ce.a.deleteButton,onClick:this.onDeleteButtonClick,title:"\u5220\u9664\u7b14\u8bb0"},r.a.createElement(_e.a,{icon:ve.f,className:Ce.a.buttonIcon})))),r.a.createElement("div",{className:Ce.a.lastModifiedDate},"\u6700\u540e\u4fee\u6539\uff1a",A(a))))}}]),t}(o.Component),Se=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(_.a)(t).apply(this,arguments))).state={noteList:[]},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;$(),C(w("/getNoteList"),!1).then(function(t){var n=t.isSuccess,a=t.msg,o=t.data;n?e.setState({noteList:o}):P.show(a,!1)}).catch(function(e){P.show("\u83b7\u53d6\u7b14\u8bb0\u5217\u8868\u5931\u8d25",!1),console.log(e)})}},{key:"render",value:function(){var e=this.state.noteList;return r.a.createElement("div",{className:je.a.NoteList},r.a.createElement(ie,{text:"\u7b14\u8bb0\u5217\u8868"}),r.a.createElement("div",{className:je.a.listArea},0===e.length?r.a.createElement("h2",{style:{textAlign:"center"}},"\u4f60\u6ca1\u6709\u7b14\u8bb0\u7684\u6837\u5b50\uff0c\u5feb\u53bb\u5199\u4e2a\u65b0\u7b14\u8bb0\u5427\uff01"):e.map(function(e){return r.a.createElement(l.b,{onlyActiveOnIndex:!1,to:"/NoteReader?id=".concat(e.id),target:"_blank",key:e.id},r.a.createElement(We,e))})))}}]),t}(o.Component),Be=n(70),De=n.n(Be),Fe=n(113),Te=n.n(Fe),Re=function(e){function t(){var e,n;Object(u.a)(this,t);for(var a=arguments.length,o=new Array(a),r=0;r<a;r++)o[r]=arguments[r];return(n=Object(p.a)(this,(e=Object(_.a)(t)).call.apply(e,[this].concat(o)))).getStoredFileName=function(){return S("fileName")},n.storeFileName=function(e){W("fileName",e)},n.onInputChange=function(e){n.storeFileName(e.target.value)},n}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this.getStoredFileName();e?(this.refs.filename.value=e,this.storeFileName(e)):(this.refs.filename.value="\u672a\u547d\u540d",this.storeFileName("\u672a\u547d\u540d"))}},{key:"componentDidUpdate",value:function(e,t,n){var a=this.props.title;a&&(this.refs.filename.value=a)}},{key:"render",value:function(){return r.a.createElement("div",{className:Te.a.FileName},r.a.createElement("div",{className:Te.a.title},"\u6587\u4ef6\u540d"),r.a.createElement("input",{type:"text",className:Te.a.input,contentEditable:!0,ref:"filename",onChange:this.onInputChange}))}}]),t}(o.Component),Pe=n(246),qe=n.n(Pe),He=function(e){function t(){return Object(u.a)(this,t),Object(p.a)(this,Object(_.a)(t).apply(this,arguments))}return Object(m.a)(t,e),Object(d.a)(t,[{key:"render",value:function(){var e=this.props.innerHTML;return r.a.createElement("div",{className:qe.a.Previewer,dangerouslySetInnerHTML:{__html:e}})}}]),t}(o.Component),Je=Object(s.b)(function(e){return{innerHTML:e.NoteWriterEditor.innerHTML}})(He),Ge=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(_.a)(t).apply(this,arguments))).onSubmitButtonClick=function(t){var n=S("fileName"),a=S("noteContent"),o=e.state.noteId;k(w("/submitNote"),{fileName:n,noteContent:a,noteId:o}).then(function(e){var t=e.isSuccess,n=e.msg;e.data;P.show(n,t),t&&(l.e.push("/NoteList"),B("fileName"),B("noteContent"))}).catch(function(e){P.show("\u7b14\u8bb0\u63d0\u4ea4\u5931\u8d25",!1),console.log(e)})},e.state={noteId:-1,title:void 0,noteContent:void 0},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;$();var t=this.props.location.query.noteId;void 0!==t&&(this.setState({noteId:t}),C(w("/getNoteRaw"),!1,{id:t}).then(function(t){var n=t.isSuccess,a=(t.msg,t.data);if(n){var o=a.title,r=a.content;e.setState({title:o,noteContent:r})}}).catch(function(e){P.show("\u83b7\u53d6\u7b14\u8bb0\u5185\u5bb9\u5931\u8d25"),setTimeout(function(){return l.e.push("/NoteList")},1e3),console.log(e)}))}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.noteContent;return r.a.createElement("div",{className:De.a.NoteWriter},r.a.createElement("div",{className:De.a.fileInfoArea},r.a.createElement(Re,{title:t}),r.a.createElement("button",{className:De.a.submitButton,onClick:this.onSubmitButtonClick},"\u63d0\u4ea4")),r.a.createElement("div",{className:De.a.editorArea},r.a.createElement("div",{className:De.a.editor},r.a.createElement(Q,{noteContent:n})),r.a.createElement("div",{className:De.a.previewer},r.a.createElement(Je,null))))}}]),t}(o.Component),Ye=n(114),Ke=n.n(Ye),Qe=function(e){function t(){var e;return Object(u.a)(this,t),(e=Object(p.a)(this,Object(_.a)(t).apply(this,arguments))).state={title:"loading\u2026\u2026",content:"loading\u2026\u2026",lastModifiedDate:0},e}return Object(m.a)(t,e),Object(d.a)(t,[{key:"componentDidMount",value:function(){var e=this;$();var t=this.props.location.query.id;C(w("/getNote"),!1,{id:t}).then(function(t){var n=t.isSuccess,a=t.msg,o=t.data;if(n){var r=o.title,i=o.content,c=o.lastModifiedDate;e.setState({title:r,content:i,lastModifiedDate:c})}else P.show(a,!1)}).catch(function(e){P.show("\u83b7\u53d6\u7b14\u8bb0\u5931\u8d25",!1),console.log(e)})}},{key:"render",value:function(){var e=this.state,t=e.title,n=e.content,a=e.lastModifiedDate;return r.a.createElement("div",{className:Ke.a.NoteReader},r.a.createElement(ie,{text:t}),r.a.createElement("div",{className:Ke.a.lastModified},A(a)),r.a.createElement("div",{className:Ke.a.content,dangerouslySetInnerHTML:{__html:n}}))}}]),t}(o.Component),Xe=function(){return r.a.createElement(l.d,{history:l.e},r.a.createElement(l.c,{path:"/",component:Oe},r.a.createElement(l.a,{component:ue}),r.a.createElement(l.c,{path:"/NoteList",component:Se,onEnter:a.requireLogin}),r.a.createElement(l.c,{path:"/Login",component:ue}),r.a.createElement(l.c,{path:"/NoteWriter",component:Ge,onEnter:a.requireLogin}),r.a.createElement(l.c,{path:"/NoteReader",component:Qe,onEnter:a.requireLogin})))};c.a.render(r.a.createElement(s.a,{store:Z},r.a.createElement(Xe,null)),document.getElementById("root"))},59:function(e,t,n){e.exports={btn:"Modal_btn__Ual90","btn-lg":"Modal_btn-lg__3ZZgf","btn-primary":"Modal_btn-primary__1wZD4",disabled:"Modal_disabled__2znBI",active:"Modal_active__1S_C0",show:"Modal_show__3tnX6","dropdown-toggle":"Modal_dropdown-toggle__14nfc",Modal:"Modal_Modal__2QI9e",confirmButton:"Modal_confirmButton__3V-6h","btn-danger":"Modal_btn-danger__2271L",cancelButton:"Modal_cancelButton__2QSHW",focus:"Modal_focus__iJyE3",title:"Modal_title__2uAM2",content:"Modal_content__2Lj3R",buttonArea:"Modal_buttonArea__rhyIs",modalWrapper:"Modal_modalWrapper__2ddaA"}},70:function(e,t,n){e.exports={btn:"NoteWriter_btn__3DdAf","btn-lg":"NoteWriter_btn-lg___Ni-b",NoteWriter:"NoteWriter_NoteWriter__eA8yn",fileInfoArea:"NoteWriter_fileInfoArea__3Frbi",submitButton:"NoteWriter_submitButton__3ae7T","btn-primary":"NoteWriter_btn-primary__3KQTD",disabled:"NoteWriter_disabled__22W3e",active:"NoteWriter_active__1YIrQ",show:"NoteWriter_show__1BAKq","dropdown-toggle":"NoteWriter_dropdown-toggle__1W0AH","btn-danger":"NoteWriter_btn-danger__1GhgF",focus:"NoteWriter_focus__26ywt",editorArea:"NoteWriter_editorArea__3Met1",editor:"NoteWriter_editor__3P6P4",previewer:"NoteWriter_previewer__1Q1df"}},81:function(e,t,n){e.exports={btn:"Login_btn__2TJ22","btn-lg":"Login_btn-lg__R7EOY",Login:"Login_Login__21X2q",form:"Login_form__8kM8I",loginBtn:"Login_loginBtn__3zxJg","btn-primary":"Login_btn-primary__2ApV-",disabled:"Login_disabled__2NGiZ",active:"Login_active__1sfua",show:"Login_show__1iziL","dropdown-toggle":"Login_dropdown-toggle__2jJPY","btn-danger":"Login_btn-danger__1Aexf",focus:"Login_focus__2KGn6",Input:"Login_Input__Brsfk",input:"Login_input__3e0Jd"}},91:function(e,t,n){e.exports={TopBar:"TopBar_TopBar__1KBoI",linkWrapper:"TopBar_linkWrapper__2uhsi",title:"TopBar_title__20vJN",icon:"TopBar_icon__2zQT4"}}},[[247,2,1]]]);
//# sourceMappingURL=main.356031b5.chunk.js.map